{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nconst fetchApiData = queryValue => {\n  const searchParams = new URLSearchParams({\n    key: '47670925-140aa95f52ef27acd2496305c',\n    q: queryValue.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams.toString()}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (!data.total) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return [];\n      }\n\n      return data.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      return [];\n    });\n};\n\nexport default fetchApiData;\n","const generateGalleryMarkup = images => {\n  return images.reduce(\n    (\n      acc,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) => {\n      return (\n        acc +\n        `<li class=\"gallery-card\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n                <ul class=\"gallery-card-info\">\n                  <li>\n                    <p>Likes</p>\n                    <p>${likes}</p>\n                  </li>\n                  <li>\n                    <p>Views</p>\n                    <p>${views}</p>\n                  </li>\n                  <li>\n                    <p>Comments</p>\n                    <p>${comments}</p>\n                  </li>\n                  <li>\n                    <p>Downloads</p>\n                    <p>${downloads}</p>\n                  </li>\n                </ul>\n              </a>\n            </li>`\n      );\n    },\n    ''\n  );\n};\n\nexport default generateGalleryMarkup;\n","import SimpleLightbox from 'simplelightbox';\nimport fetchApiData from './js/pixabay-api';\nimport generateGalleryMarkup from './js/render-functions';\n\nconst formElement = document.querySelector('.js-form'),\n  loaderElement = document.querySelector('.js-loader'),\n  galleryContainer = document.querySelector('.js-gallery'),\n  simpleLightboxInstance = new SimpleLightbox('.js-gallery a.gallery-link', {\n    captionDelay: 250,\n    overlayOpacity: 0.8,\n  }),\n  submitHandler = event => {\n    event.preventDefault();\n    loaderElement.style.display = 'flex';\n\n    fetchApiData(event.target.elements['user-query'].value)\n      .then(images => {\n        galleryContainer.innerHTML = generateGalleryMarkup(images);\n        simpleLightboxInstance.refresh();\n      })\n      .finally(() => {\n        formElement.reset();\n        loaderElement.style.display = 'none';\n      });\n  };\n\nformElement.addEventListener('submit', submitHandler);\n"],"names":["fetchApiData","queryValue","searchParams","response","data","iziToast","error","generateGalleryMarkup","images","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formElement","loaderElement","galleryContainer","simpleLightboxInstance","SimpleLightbox","submitHandler","event"],"mappings":"6vBAEA,MAAMA,EAAeC,GAAc,CACjC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EAAW,KAAM,EACpB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,EAAa,SAAQ,CAAE,EAAE,EAC/D,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACCA,EAAK,MASHA,EAAK,MARVC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACM,GAIV,EACA,MAAMC,IACL,QAAQ,IAAIA,CAAK,EACV,GACR,CACL,EClCMC,EAAwBC,GACrBA,EAAO,OACZ,CACEC,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAGtEP,EACA;AAAA,8CACsCE,CAAa;AAAA,kDACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,yBAInDC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,mBAO9B,EACJ,EC9BMC,EAAc,SAAS,cAAc,UAAU,EACnDC,EAAgB,SAAS,cAAc,YAAY,EACnDC,EAAmB,SAAS,cAAc,aAAa,EACvDC,EAAyB,IAAIC,EAAe,6BAA8B,CACxE,aAAc,IACd,eAAgB,EACpB,CAAG,EACDC,EAAgBC,GAAS,CACvBA,EAAM,eAAc,EACpBL,EAAc,MAAM,QAAU,OAE9BlB,EAAauB,EAAM,OAAO,SAAS,YAAY,EAAE,KAAK,EACnD,KAAKf,GAAU,CACdW,EAAiB,UAAYZ,EAAsBC,CAAM,EACzDY,EAAuB,QAAO,CACtC,CAAO,EACA,QAAQ,IAAM,CACbH,EAAY,MAAK,EACjBC,EAAc,MAAM,QAAU,MACtC,CAAO,CACP,EAEAD,EAAY,iBAAiB,SAAUK,CAAa"}